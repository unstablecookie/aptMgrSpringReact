{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from\"axios\";import'../NewForm.css';import'../menu/buttons-small.css';import PostService from'../PostService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewUser=props=>{const API_URL=\"/users\";const[user,setUser]=useState({name:\"\",password:\"\",roleId:1,isNotLocked:true});const[msg,setMsg]=useState(\"\");const config={headers:{Authorization:`Bearer ${props.token}`}};const[getRoles,setGetRoles]=useState([]);const handleChange=e=>{const value=e.target.value;setUser({...user,[e.target.name]:value});};const RegisterUser=e=>{e.preventDefault();console.log(user);PostService.saveEntity(API_URL,user,config).then(res=>{console.log(\"User Added Successfully\");setMsg(\"Used Added Sucessfully\");setUser({name:\"\",password:\"\",roleId:1,isNotLocked:true});updateButton();}).catch(error=>{console.log(error);updateButton();});};useEffect(()=>{async function fetchRoles(params){const URL=\"/users/roles\";try{const response=await axios.get(URL,config);setGetRoles(response.data);}catch(error){console.log(error);}}fetchRoles();},[]);const updateButton=()=>{props.hide(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:msg&&/*#__PURE__*/_jsx(\"p\",{children:msg})}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:e=>RegisterUser(e),children:[/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"sign up\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsx(\"input\",{className:\"simple-input\",placeholder:\"Enter your username\",name:\"name\",onChange:e=>handleChange(e),value:user.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsx(\"input\",{className:\"simple-input\",placeholder:\"Enter your password\",name:\"password\",onChange:e=>handleChange(e),value:user.password})}),/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"simple-input\",name:\"roleId\",onChange:e=>handleChange(e),value:user.roleId,children:[getRoles.map((role,i)=>/*#__PURE__*/_jsx(\"option\",{value:role.id,children:role.name},i)),\";\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"simple-input\",name:\"isNotLocked\",onChange:e=>handleChange(e),value:user.isNotLocked,children:[/*#__PURE__*/_jsx(\"option\",{value:true,children:\"ENABLED\"}),/*#__PURE__*/_jsx(\"option\",{value:false,children:\"DISABLE\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsx(\"button\",{className:\"modern-small embossed-link-small\",type:\"submit\",children:\"Submit\"})})]})]})]});};export default NewUser;","map":{"version":3,"names":["React","useEffect","useState","axios","PostService","jsx","_jsx","jsxs","_jsxs","NewUser","props","API_URL","user","setUser","name","password","roleId","isNotLocked","msg","setMsg","config","headers","Authorization","token","getRoles","setGetRoles","handleChange","e","value","target","RegisterUser","preventDefault","console","log","saveEntity","then","res","updateButton","catch","error","fetchRoles","params","URL","response","get","data","hide","children","className","onSubmit","placeholder","onChange","map","role","i","id","type"],"sources":["D:/dev/code/java/aptMgrSpringReact/src/main/aptmgrfront/src/components/user/NewUser.js"],"sourcesContent":["import React, { useEffect, useState }  from 'react';\r\nimport axios from \"axios\";\r\nimport '../NewForm.css'\r\nimport '../menu/buttons-small.css';\r\nimport PostService from '../PostService';\r\n\r\nconst NewUser = props => {\r\n    const API_URL = \"/users\";\r\n    const [user, setUser] = useState({\r\n        name: \"\",\r\n        password: \"\",\r\n        roleId: 1,\r\n        isNotLocked: true,\r\n    });  \r\n    const [msg, setMsg] = useState(\"\");\r\n    const config = {\r\n        headers: { Authorization: `Bearer ${props.token}` }\r\n    };\r\n    const [getRoles, setGetRoles] = useState([]);\r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n        setUser({ ...user, [e.target.name]: value })\r\n    }\r\n\r\n    const RegisterUser = (e) => {\r\n        e.preventDefault();\r\n        console.log(user);\r\n        PostService.saveEntity(API_URL, user, config)\r\n            .then((res) => {\r\n                console.log(\"User Added Successfully\");\r\n                setMsg(\"Used Added Sucessfully\");\r\n                setUser({\r\n                    name: \"\",\r\n                    password: \"\",\r\n                    roleId: 1,\r\n                    isNotLocked: true,\r\n\r\n                })\r\n                updateButton();\r\n            }).catch((error) => {\r\n                console.log(error);\r\n                updateButton();\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function fetchRoles(params) {\r\n            const URL = \"/users/roles\";\r\n            try {\r\n                const response = await axios.get(URL,config);\r\n                setGetRoles(\r\n                  response.data,\r\n                );\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        fetchRoles();\r\n    }, []);\r\n\r\n    const updateButton = () => {\r\n        props.hide(false);\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <div>\r\n                {msg && <p>{msg}</p>}\r\n            </div>\r\n            <form className=\"form\" onSubmit={(e) => RegisterUser(e)}>\r\n                <div className=\"divborder\">\r\n                    <span className=\"title\">sign up</span>\r\n                </div>\r\n                <div>\r\n                    <div className=\"divborder\">\r\n                        <input className='simple-input' placeholder=\"Enter your username\" name=\"name\" onChange={(e) => handleChange(e)} value={user.name} />\r\n                    </div>\r\n                    <div className=\"divborder\">\r\n                        <input className='simple-input' placeholder=\"Enter your password\" name=\"password\" onChange={(e) => handleChange(e)} value={user.password} />\r\n                    </div>\r\n                    <div className=\"divborder\">\r\n                        <select className='simple-input' name=\"roleId\" onChange={(e) => handleChange(e)} value={user.roleId}>\r\n                            {\r\n                            getRoles.map((role,i) =>\r\n                                <option key={i} value={role.id}>{role.name}</option>\r\n                            )};\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"divborder\">\r\n                        <select className='simple-input' name=\"isNotLocked\" onChange={(e) => handleChange(e)} value={user.isNotLocked}>\r\n                            <option value={true}>ENABLED</option>\r\n                            <option value={false}>DISABLE</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"divborder\">\r\n                        <button className=\"modern-small embossed-link-small\" type=\"submit\">Submit</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewUser;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}