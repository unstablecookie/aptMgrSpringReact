{"ast":null,"code":"import React,{useState}from'react';import'./PopUp.css';import'../components/Border.css';import UserIcon from'./user/UserIcon';import PatchServie from'./PatchServie';import RightRibbon from'./menu/RightRibbon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PopUpUser=_ref=>{let{active,setActive,child,token}=_ref;const config={headers:{Authorization:`Bearer ${token}`}};const[isNotLocked,setIsNotLocked]=useState(child.data.isNotLocked);const[userLock,setUserLock]=useState({lastPayment:isNotLocked});const[updateFullUser,setUpdateFullUser]=useState({name:child.data.name,isNotLocked:isNotLocked});const handleChange=e=>{const value=e.target.value;setUpdateFullUser({...updateFullUser,[e.target.name]:value});};const handleLockUser=e=>{const URL=`/users/${child.data.id}/lock/${!isNotLocked}`;PatchServie.updateEntity(URL,\"\",config).then(()=>{setIsNotLocked(!isNotLocked);}).catch(error=>{console.log(error);setIsNotLocked(isNotLocked);});};return/*#__PURE__*/_jsx(\"div\",{className:active?\"popupc active\":\"popupc\",onClick:()=>setActive(false),children:/*#__PURE__*/_jsxs(\"div\",{className:active?\"popupc_content active\":\"popupc_content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sep-blocks\",children:[/*#__PURE__*/_jsx(UserIcon,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"popup-line-text\",children:\"Id: \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsx(\"input\",{className:\"popup-line\",type:\"number\",value:child.data.id,readOnly:true})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"popup-line-text\",children:\"name: \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"divborder\",children:/*#__PURE__*/_jsx(\"input\",{className:\"popup-line\",type:\"text\",name:\"name\",defaultValue:child.data.name,onChange:e=>handleChange(e)})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-line-text\",children:\"active user? \"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isNotLocked,onChange:e=>handleLockUser(e)}),/*#__PURE__*/_jsx(\"span\",{className:\"slider square\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"side-panel\",children:/*#__PURE__*/_jsx(RightRibbon,{child:child,token:token,popUpActive:setActive,entity:\"users\",entityFull:updateFullUser})})]})});};export default PopUpUser;","map":{"version":3,"names":["React","useState","UserIcon","PatchServie","RightRibbon","jsx","_jsx","jsxs","_jsxs","PopUpUser","_ref","active","setActive","child","token","config","headers","Authorization","isNotLocked","setIsNotLocked","data","userLock","setUserLock","lastPayment","updateFullUser","setUpdateFullUser","name","handleChange","e","value","target","handleLockUser","URL","id","updateEntity","then","catch","error","console","log","className","onClick","children","stopPropagation","type","readOnly","defaultValue","onChange","checked","popUpActive","entity","entityFull"],"sources":["D:/dev/code/java/aptMgrSpringReact/src/main/aptmgrfront/src/components/PopUpUser.js"],"sourcesContent":["import React, { useState }  from 'react';\r\nimport './PopUp.css';\r\nimport '../components/Border.css';\r\nimport UserIcon from './user/UserIcon';\r\nimport PatchServie from './PatchServie';\r\nimport RightRibbon from './menu/RightRibbon';\r\n\r\n\r\nconst PopUpUser = ({ active, setActive, child, token}) => {\r\n    const config = {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n    };\r\n\r\n    const [isNotLocked , setIsNotLocked] = useState(child.data.isNotLocked);\r\n    const [userLock, setUserLock] = useState({\r\n        lastPayment: isNotLocked\r\n    });\r\n\r\n    const [updateFullUser, setUpdateFullUser] = useState({\r\n        name: child.data.name,\r\n        isNotLocked: isNotLocked,\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n        setUpdateFullUser({ ...updateFullUser, [e.target.name]: value })\r\n    }\r\n\r\n    const handleLockUser = (e) => {\r\n        const URL = `/users/${child.data.id}/lock/${!isNotLocked}`;\r\n        PatchServie.updateEntity(URL, \"\",config)\r\n            .then(() => {\r\n                setIsNotLocked(!isNotLocked);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                setIsNotLocked(isNotLocked);\r\n            });        \r\n    }\r\n\r\n    return (\r\n        <div className={active ? \"popupc active\" : \"popupc\"} onClick={ () => setActive(false)}>\r\n            <div className={active ? \"popupc_content active\" : \"popupc_content\"} onClick={e => e.stopPropagation()}>\r\n                <div className='sep-blocks'>\r\n                    <UserIcon />\r\n                    <div>\r\n                        <label className='popup-line-text'>Id: </label>\r\n                    </div>\r\n                    <div className=\"divborder\">\r\n                        <input className='popup-line' type='number' value={child.data.id} readOnly/>\r\n                    </div>\r\n                    <div>\r\n                        <label className='popup-line-text'>name: </label>\r\n                    </div>\r\n                    <div className=\"divborder\">\r\n                        <input className='popup-line' type='text' name='name' defaultValue={child.data.name} onChange={(e) => handleChange(e)}/>\r\n                    </div>\r\n                    <div>\r\n                    <label className='popup-line-text'>active user? </label>\r\n                        <div>\r\n                            <label className=\"switch\">\r\n                                <input type=\"checkbox\" checked={isNotLocked} onChange={(e) => handleLockUser(e)}/>\r\n                                <span className=\"slider square\"></span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='side-panel'>\r\n                    <RightRibbon child={child} token={token} popUpActive={setActive} entity=\"users\" entityFull={updateFullUser}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PopUpUser;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}